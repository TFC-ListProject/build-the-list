!function(e){"use strict";"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):chai.use(e)}(function(e,t){"use strict";function a(e){return"function"==typeof e&&"function"==typeof e.getCall&&"function"==typeof e.calledWithExactly}function n(e){return 1===e?"once":2===e?"twice":3===e?"thrice":(e||0)+" times"}function i(e){return e&&a(e.proxy)}function c(e){if(!a(e._obj)&&!i(e._obj))throw new TypeError(t.inspect(e._obj)+" is not a spy or a call to a spy!")}function l(e,t,n,i,c){function l(t){return e.printf.apply(e,t)}var o=i?"always have ":"have ";return n=n||"",a(e.proxy)&&(e=e.proxy),{affirmative:function(){return l(["expected %n to "+o+t+n].concat(c))},negative:function(){return l(["expected %n to not "+o+t].concat(c))}}}function o(a,n,i){t.addProperty(e.Assertion.prototype,a,function(){c(this);var e=l(this._obj,n,i,!1);this.assert(this._obj[a],e.affirmative,e.negative)})}function r(a,i,o){t.addMethod(e.Assertion.prototype,a,function(e){c(this);var t=l(this._obj,i,o,!1,[n(e)]);this.assert(this._obj[a]===e,t.affirmative,t.negative)})}function s(e,a,n){return function(){c(this);var i="always"+e[0].toUpperCase()+e.substring(1),o=t.flag(this,"always")&&"function"==typeof this._obj[i],r=o?i:e,s=l(this._obj,a,n,o,h.call(arguments));this.assert(this._obj[r].apply(this._obj,arguments),s.affirmative,s.negative)}}function d(a,n,i){var c=s(a,n,i);t.addProperty(e.Assertion.prototype,a,c)}function f(a,n,i,c){var l=s(n,i,c);t.addMethod(e.Assertion.prototype,a,l)}function u(e,t,a){f(e,e,t,a)}var h=Array.prototype.slice;t.addProperty(e.Assertion.prototype,"always",function(){t.flag(this,"always",!0)}),o("called","been called"," at least once, but it was never called"),r("callCount","been called exactly %1",", but it was called %c%C"),o("calledOnce","been called exactly once",", but it was called %c%C"),o("calledTwice","been called exactly twice",", but it was called %c%C"),o("calledThrice","been called exactly thrice",", but it was called %c%C"),d("calledWithNew","been called with new"),u("calledBefore","been called before %1"),u("calledAfter","been called after %1"),u("calledImmediatelyBefore","been called immediately before %1"),u("calledImmediatelyAfter","been called immediately after %1"),u("calledOn","been called with %1 as this",", but it was called with %t instead"),u("calledWith","been called with arguments %*","%C"),u("calledWithExactly","been called with exact arguments %*","%C"),u("calledWithMatch","been called with arguments matching %*","%C"),u("returned","returned %1"),f("thrown","threw","thrown %1")});