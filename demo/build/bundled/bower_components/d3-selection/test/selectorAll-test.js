var tape=require("tape"),jsdom=require("./jsdom"),d3=require("../");tape("d3.selectorAll(selector).call(element) returns all elements that match the selector",function(e){var l=jsdom("<body class='foo'><div class='foo'>"),t=l.body,d=l.querySelector("div");e.deepEqual(d3.selectorAll("body").call(l.documentElement),[t]),e.deepEqual(d3.selectorAll(".foo").call(l.documentElement),[t,d]),e.deepEqual(d3.selectorAll("div.foo").call(l.documentElement),[d]),e.deepEqual(d3.selectorAll("div").call(l.documentElement),[d]),e.deepEqual(d3.selectorAll("div,body").call(l.documentElement),[t,d]),e.deepEqual(d3.selectorAll("h1").call(l.documentElement),[]),e.deepEqual(d3.selectorAll("body.bar").call(l.documentElement),[]),e.end()}),tape("d3.selectorAll(null).call(element) always returns the empty array",function(e){var l=jsdom("<body class='foo'><undefined></undefined><null></null>");e.deepEqual(d3.selectorAll().call(l.documentElement),[]),e.deepEqual(d3.selectorAll(null).call(l.documentElement),[]),e.deepEqual(d3.selectorAll(void 0).call(l.documentElement),[]),e.end()}),tape("d3.selectorAll(null).call(element) returns a new empty array each time",function(e){var l=d3.selectorAll()(),t=d3.selectorAll()();e.equal(l===t,!1),l.push("one"),e.deepEqual(d3.selectorAll()(),[]),e.end()});