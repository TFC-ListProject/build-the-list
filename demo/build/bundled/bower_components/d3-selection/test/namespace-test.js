var tape=require("tape"),jsdom=require("./jsdom"),d3=require("../");tape("d3.namespace(name) returns name if there is no namespace prefix",function(e){e.equal(d3.namespace("foo"),"foo"),e.equal(d3.namespace("foo:bar"),"bar"),e.end()}),tape("d3.namespace(name) coerces name to a string",function(e){e.equal(d3.namespace({toString:function(){return"foo"}}),"foo"),e.deepEqual(d3.namespace({toString:function(){return"svg"}}),{space:"http://www.w3.org/2000/svg",local:"svg"}),e.end()}),tape("d3.namespace(name) returns the expected values for built-in namespaces",function(e){e.deepEqual(d3.namespace("svg"),{space:"http://www.w3.org/2000/svg",local:"svg"}),e.deepEqual(d3.namespace("xhtml"),{space:"http://www.w3.org/1999/xhtml",local:"xhtml"}),e.deepEqual(d3.namespace("xlink"),{space:"http://www.w3.org/1999/xlink",local:"xlink"}),e.deepEqual(d3.namespace("xml"),{space:"http://www.w3.org/XML/1998/namespace",local:"xml"}),e.deepEqual(d3.namespace("svg:g"),{space:"http://www.w3.org/2000/svg",local:"g"}),e.deepEqual(d3.namespace("xhtml:b"),{space:"http://www.w3.org/1999/xhtml",local:"b"}),e.deepEqual(d3.namespace("xlink:href"),{space:"http://www.w3.org/1999/xlink",local:"href"}),e.deepEqual(d3.namespace("xml:lang"),{space:"http://www.w3.org/XML/1998/namespace",local:"lang"}),e.end()}),tape('d3.namespace("xmlns:â€¦") treats the whole name as the local name',function(e){e.deepEqual(d3.namespace("xmlns:xlink"),{space:"http://www.w3.org/2000/xmlns/",local:"xmlns:xlink"}),e.end()}),tape("d3.namespace(name) observes modifications to d3.namespaces",function(e){d3.namespaces.d3js="https://d3js.org/2016/namespace",e.deepEqual(d3.namespace("d3js:pie"),{space:"https://d3js.org/2016/namespace",local:"pie"}),delete d3.namespaces.d3js,e.equal(d3.namespace("d3js:pie"),"pie"),e.end()});