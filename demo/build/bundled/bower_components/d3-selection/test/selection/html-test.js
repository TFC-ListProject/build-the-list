var tape=require("tape"),jsdom=require("../jsdom"),d3=require("../../");tape("selection.html() returns the inner HTML on the first selected element",function(e){var n={innerHTML:"hello"};e.equal(d3.select(n).html(),"hello"),e.equal(d3.selectAll([null,n]).html(),"hello"),e.end()}),tape("selection.html(value) sets inner HTML on the selected elements",function(e){var n={innerHTML:""},l={innerHTML:""},t=d3.selectAll([n,l]);e.equal(t.html("bar"),t),e.equal(n.innerHTML,"bar"),e.equal(l.innerHTML,"bar"),e.end()}),tape("selection.html(null) clears the inner HTML on the selected elements",function(e){var n={innerHTML:"bar"},l={innerHTML:"bar"},t=d3.selectAll([n,l]);e.equal(t.html(null),t),e.equal(n.innerHTML,""),e.equal(l.innerHTML,""),e.end()}),tape("selection.html(function) sets the value of the inner HTML on the selected elements",function(e){var n={innerHTML:"bar"},l={innerHTML:"bar"},t=d3.selectAll([n,l]);e.equal(t.html(function(e,n){return n?"baz":null}),t),e.equal(n.innerHTML,""),e.equal(l.innerHTML,"baz"),e.end()}),tape("selection.html(function) passes the value function data, index and group",function(e){var n=jsdom("<parent id='one'><child id='three'></child><child id='four'></child></parent><parent id='two'><child id='five'></child></parent>"),l=n.querySelector("#one"),t=n.querySelector("#two"),r=n.querySelector("#three"),i=n.querySelector("#four"),a=n.querySelector("#five"),u=[];d3.selectAll([l,t]).datum(function(e,n){return"parent-"+n}).selectAll("child").data(function(e,n){return[0,1].map(function(e){return"child-"+n+"-"+e})}).html(function(e,n,l){u.push([this,e,n,l])}),e.deepEqual(u,[[r,"child-0-0",0,[r,i]],[i,"child-0-1",1,[r,i]],[a,"child-1-0",0,[a]]]),e.end()});