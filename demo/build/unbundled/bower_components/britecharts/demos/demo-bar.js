"use strict";function createBarChart(){var t,e=bar(),r=new dataBuilder.BarDataBuilder,a=d3Selection.select(".js-bar-chart-container"),o=a.node()?a.node().getBoundingClientRect().width:!1;o&&(t=r.withLettersFrequency().build(),e.width(o).height(300),a.datum(t).call(e))}function createHorizontalBarChart(){var t,e,r=bar(),a=miniTooltip(),o=new dataBuilder.BarDataBuilder,i=d3Selection.select(".js-horizontal-bar-chart-container"),c=i.node()?i.node().getBoundingClientRect().width:!1;c&&(e=o.withColors().build(),r.margin({left:120,right:20,top:20,bottom:5}).horizontal(!0).colorSchema(colors.colorSchemas.britechartsColorSchema).width(c).yAxisPaddingBetweenChart(30).height(300).percentageAxisToMaxRatio(1.3).on("customMouseOver",a.show).on("customMouseMove",a.update).on("customMouseOut",a.hide),i.datum(e).call(r),t=d3Selection.select(".js-horizontal-bar-chart-container .bar-chart .metadata-group"),t.datum([]).call(a))}function createBarChartWithTooltip(){var t,e,r=bar(),a=miniTooltip(),o=new dataBuilder.BarDataBuilder,i=d3Selection.select(".js-bar-chart-tooltip-container"),c=i.node()?i.node().getBoundingClientRect().width:!1;c&&(d3Selection.select(".js-download-button").on("click",function(){r.exportChart("barchart.png","Britecharts Bar Chart")}),e=o.withLettersFrequency().build(),r.width(c).height(300).usePercentage(!0).on("customMouseOver",a.show).on("customMouseMove",a.update).on("customMouseOut",a.hide),i.datum(e).call(r),t=d3Selection.select(".bar-chart .metadata-group"),t.datum([]).call(a))}var d3Selection=require("d3-selection"),PubSub=require("pubsub-js"),bar=require("./../src/charts/bar"),miniTooltip=require("./../src/charts/mini-tooltip"),colors=require("./../src/charts/helpers/colors"),dataBuilder=require("./../test/fixtures/barChartDataBuilder");if(d3Selection.select(".js-bar-chart-tooltip-container").node()){createBarChart(),createHorizontalBarChart(),createBarChartWithTooltip();var redrawCharts=function(){d3Selection.selectAll(".bar-chart").remove(),createBarChart(),createHorizontalBarChart(),createBarChartWithTooltip()};PubSub.subscribe("resize",redrawCharts)}