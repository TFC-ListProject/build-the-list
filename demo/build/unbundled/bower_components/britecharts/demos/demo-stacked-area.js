"use strict";function createStackedAreaChartWithTooltip(e){var t,a,r=stackedAreaChart(),o=tooltip(),c=new stackedDataBuilder.StackedAreaDataBuilder,i=d3Selection.select(".js-stacked-area-chart-tooltip-container"),l=i.node()?i.node().getBoundingClientRect().width:!1;l&&(a=c.withSalesChannelData().build(),r.tooltipThreshold(600).width(l).grid("horizontal").on("customMouseOver",function(){o.show()}).on("customMouseMove",function(e,t,a){o.update(e,t,a)}).on("customMouseOut",function(){o.hide()}),e&&r.colorSchema(e),i.datum(a.data).call(r),o.topicLabel("values").title("Testing tooltip"),t=d3Selection.select(".js-stacked-area-chart-tooltip-container .metadata-group .vertical-marker-container"),t.datum([]).call(o),d3Selection.select("#button").on("click",function(){r.exportChart("stacked-area.png","Britecharts Stacked Area")}))}function createStackedAreaChartWithFixedAspectRatio(e){var t,a,r=stackedAreaChart(),o=tooltip(),c=new stackedDataBuilder.StackedAreaDataBuilder,i=d3Selection.select(".js-stacked-area-chart-fixed-container"),l=i.node()?i.node().getBoundingClientRect().width:!1;l&&(a=c.with3Sources().build(),r.tooltipThreshold(600).aspectRatio(.6).grid("full").forceAxisFormat("custom").forcedXFormat("%Y/%m/%d").forcedXTicks(2).width(l).dateLabel("dateUTC").valueLabel("views").on("customMouseOver",function(){o.show()}).on("customMouseMove",function(e,t,a){o.update(e,t,a)}).on("customMouseOut",function(){o.hide()}),e&&r.colorSchema(e),i.datum(a.data).call(r),o.topicLabel("values").title("Dummy Tooltip Title"),t=d3Selection.select(".js-stacked-area-chart-fixed-container .metadata-group .vertical-marker-container"),t.datum([]).call(o))}var d3Selection=require("d3-selection"),PubSub=require("pubsub-js"),colors=require("./../src/charts/helpers/colors"),stackedAreaChart=require("./../src/charts/stacked-area"),tooltip=require("./../src/charts/tooltip"),stackedDataBuilder=require("./../test/fixtures/stackedAreaDataBuilder"),colorSelectorHelper=require("./helpers/colorSelector");if(d3Selection.select(".js-stacked-area-chart-tooltip-container").node()){createStackedAreaChartWithTooltip(),createStackedAreaChartWithFixedAspectRatio();var redrawCharts=function(){d3Selection.selectAll(".stacked-area").remove(),createStackedAreaChartWithTooltip(),createStackedAreaChartWithFixedAspectRatio()};PubSub.subscribe("resize",redrawCharts),colorSelectorHelper.createColorSelector(".js-color-selector-container",".stacked-area",createStackedAreaChartWithTooltip)}